<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Convertir PNG a JPG</title>
  <style>
    body { font-family: Arial, sans-serif; padding: 20px; }
    #result { margin-top: 20px; }
    #download-link { display: none; }
  </style>
</head>
<body>
  <h1>Convertir PNG a JPG</h1>
  
  <input type="file" id="inputImage" accept="image/png">
  <button onclick="convertToJPG()">Convertir a JPG</button>

  <div id="result">
    <h3>Imagen Convertida:</h3>
    <a id="download-link" href="" download="imagen_convertida.jpg">Descargar Imagen Convertida</a>
  </div>

  <script src="https://cdnjs.cloudflare.com/ajax/libs/canvas/2.0.0/canvas.min.js"></script>
  <script>
    function convertToJPG() {
      const fileInput = document.getElementById('inputImage');
      const file = fileInput.files[0];
      
      if (!file) {
        alert('Por favor selecciona una imagen.');
        return;
      }

      const reader = new FileReader();
      
      reader.onload = function(event) {
        const img = new Image();
        img.onload = function() {
          // Crear un canvas para procesar la imagen
          const canvas = document.createElement('canvas');
          const ctx = canvas.getContext('2d');
          
          // Establecer el tamaño del canvas según la imagen
          canvas.width = img.width;
          canvas.height = img.height;
          
          // Dibujar la imagen en el canvas
          ctx.drawImage(img, 0, 0);
          
          // Convertir el contenido del canvas a JPG
          const jpgDataUrl = canvas.toDataURL('image/jpeg');

          // Mostrar el enlace de descarga
          const downloadLink = document.getElementById('download-link');
          downloadLink.href = jpgDataUrl;
          downloadLink.style.display = 'block'; // Mostrar el enlace
        };
        
        img.src = event.target.result;
      };
      
      reader.readAsDataURL(file); // Cargar la imagen
    }
  </script>
</body>
</html>
